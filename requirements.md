# 自動動画生成システム 要件定義 (MVP版)

## システム概要

ローカル環境で実行可能な自動動画生成システムを構築する。ユーザーが指定したテーマに基づいて、30秒程度の短い動画を生成する。

## 機能要件

### 1. テーマ設定機能

- **入力**: ユーザーが手動でテーマを設定
- **形式**: テキスト形式でのテーマ入力
- **例**: "副業", "投資", "マーケティング", "AI 技術"

### 2. スクリプト生成機能

- **使用技術**: Google Gemini API
- **入力**: ユーザー指定テーマ
- **出力**: 30秒動画用スクリプト
- **要件**:
  - 簡潔で魅力的な内容
  - 30秒に適した構成（導入5秒、本編20秒、まとめ5秒）

### 3. 画像取得機能

- **画像収集方法**: Unsplash API（1つのソースで簡素化）
- **要件**:
  - テーマに関連する画像を3-5枚取得
  - 1080p品質
  - 著作権フリー素材のみ

### 4. 音声生成機能

- **使用技術**: VOICEVOX（ローカル実行）
- **入力**: 生成されたスクリプト
- **出力**: WAV音声ファイル
- **要件**:
  - 30秒の音声生成
  - 基本的な読み上げ機能

### 5. 動画編集機能

- **使用ライブラリ**: MoviePy
- **機能**:
  - 音声と画像の同期
  - 基本的な画像スライドショー作成
  - 30秒動画の生成
- **出力形式**: MP4

### 6. 字幕追加機能

- **使用技術**: FFmpeg
- **入力**: 生成されたスクリプトテキスト、完成動画
- **出力**: 字幕付きMP4動画
- **要件**:
  - 日本語字幕の表示
  - 音声と字幕の同期
  - 読みやすいフォントサイズ・色設定
  - 字幕表示タイミングの自動調整

### 7. YouTube API自動投稿機能

- **使用技術**: YouTube Data API v3
- **入力**: 完成した動画ファイル（字幕付きMP4）
- **出力**: YouTubeへの動画アップロード（プライベート設定）
- **要件**:
  - OAuth 2.0認証によるYouTube APIアクセス
  - 動画タイトル・説明文の自動生成
  - プライベート設定での動画アップロード
  - アップロード進捗の表示
  - アップロード完了後のURL取得

## 技術構成

### 実行環境

- **実行環境**: ローカル環境（Python 3.8+）
- **主要ライブラリ**:
  - `moviepy`: 動画編集
  - `google-generativeai`: Gemini API
  - `requests`: API 通信
  - `voicevox-client`: 音声合成
  - `ffmpeg-python`: 字幕追加・動画後処理
  - `google-auth-oauthlib`: YouTube API認証
  - `google-api-python-client`: YouTube Data API

### API 要件

- **LLM API**: Google Gemini API
- **画像収集 API**: Unsplash API
- **VOICEVOX**: 音声合成（ローカル実行）
- **YouTube Data API v3**: 動画アップロード

### 認証・セキュリティ

- Gemini API 認証（API キー）
- Unsplash API 認証（API キー）
- YouTube API 認証（OAuth 2.0）
- 環境変数での API キー管理
- OAuth認証情報の安全な保存

## システム構成

### メインワークフロー

1. **設定フェーズ**: テーマ設定、API 認証
2. **コンテンツ生成フェーズ**: スクリプト・画像取得
3. **音声生成フェーズ**: VOICEVOX で音声生成
4. **動画編集フェーズ**: 30秒動画作成
5. **字幕追加フェーズ**: FFmpeg で字幕付き動画生成
6. **YouTube投稿フェーズ**: API経由でプライベート動画投稿

### プロジェクト構成

```
autoYoutube/
├── requirements.txt       # 依存関係
├── config.py             # 設定管理
├── script_generator.py   # スクリプト生成
├── image_fetcher.py      # 画像取得
├── voice_generator.py    # 音声生成
├── video_creator.py      # 動画作成
├── subtitle_generator.py # 字幕追加
├── youtube_uploader.py   # YouTube投稿
└── main.py              # メイン実行ファイル
```

## 期待される成果物

- 30秒の自動動画生成システム
- ローカル環境で実行可能なPythonスクリプト
- 基本的な設定ファイル
- YouTubeへの自動投稿機能（プライベート設定）
